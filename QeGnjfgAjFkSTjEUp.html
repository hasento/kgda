<html><head><base href="https://kyoto-global-design-awards.com/admin/">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GLOBAL DESIGN AWARDS - 管理首頁</title>
<style>
    body {
        font-family: Arial, sans-serif;
        line-height: 1.6;
        margin: 0;
        padding: 0;
        background-color: #f4f4f4;
    }
    .container {
        width: 80%;
        margin: auto;
        overflow: hidden;
        padding: 20px;
    }
    header {
        background: #35424a;
        color: white;
        padding-top: 30px;
        min-height: 70px;
        border-bottom: #e8491d 3px solid;
    }
    header a {
        color: #ffffff;
        text-decoration: none;
        text-transform: uppercase;
        font-size: 16px;
    }
    header #branding {
        float: left;
    }
    header #branding h1 {
        margin: 0;
    }
    header .highlight, header .current a {
        color: #e8491d;
        font-weight: bold;
    }
    header a:hover {
        color: #ffffff;
        font-weight: bold;
    }
    .tab {
        overflow: hidden;
        border: 1px solid #ccc;
        background-color: #f1f1f1;
    }
    .tab button {
        background-color: inherit;
        float: left;
        border: none;
        outline: none;
        cursor: pointer;
        padding: 14px 16px;
        transition: 0.3s;
        font-size: 17px;
    }
    .tab button:hover {
        background-color: #ddd;
    }
    .tab button.active {
        background-color: #ccc;
    }
    .tabcontent {
        display: none;
        padding: 6px 12px;
        border: 1px solid #ccc;
        border-top: none;
    }
    table {
        width: 100%;
        border-collapse: collapse;
    }
    th, td {
        padding: 8px;
        text-align: left;
        border-bottom: 1px solid #ddd;
    }
    input[type=text], input[type=email], input[type=url], input[type=tel], select, textarea {
        width: 100%;
        padding: 12px;
        border: 1px solid #ccc;
        border-radius: 4px;
        box-sizing: border-box;
        margin-top: 6px;
        margin-bottom: 16px;
        resize: vertical;
    }
    input[type=submit], button {
        background-color: #4CAF50;
        color: white;
        padding: 12px 20px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
    }
    input[type=submit]:hover, button:hover {
        background-color: #45a049;
    }
    .search-container {
        margin-bottom: 20px;
    }
    .search-container input[type=text] {
        padding: 6px;
        margin-top: 8px;
        font-size: 17px;
        border: none;
    }
    .search-container button {
        padding: 6px 10px;
        margin-top: 8px;
        margin-right: 16px;
        background: #ddd;
        font-size: 17px;
        border: none;
        cursor: pointer;
    }
    .search-container button:hover {
        background: #ccc;
    }
</style>
</head>
<body>
    <header>
        <div class="container">
            <div id="branding">
                <h1>GLOBAL DESIGN AWARDS</h1>
            </div>
        </div>
    </header>

    <div class="container">
        <h2>管理首頁</h2>
        
        <div class="tab">
            <button class="tablinks" onclick="openTab(event, 'NewNomination')" id="defaultOpen">新增提名</button>
            <button class="tablinks" onclick="openTab(event, 'EditProject')">編輯專案資訊</button>
            <button class="tablinks" onclick="openTab(event, 'EditCompanyPerson')">編輯公司、人</button>
            <button class="tablinks" onclick="openTab(event, 'EditAwardPayment')">編輯獎項報名Payment info</button>
            <button class="tablinks" onclick="openTab(event, 'SearchNominations')">搜尋提名</button>
        </div>

        <div id="NewNomination" class="tabcontent">
            <h3>新增提名</h3>
            <form action="https://kyoto-global-design-awards.com/api/add-nomination" method="post">
                <label for="contactEmail">Contact Email</label>
                <input type="email" id="contactEmail" name="contactEmail" required>

                <label for="name">Name</label>
                <input type="text" id="name" name="name" required>

                <label for="companyStudio">Company or Studio</label>
                <input type="text" id="companyStudio" name="companyStudio" required>

                <label for="projectName">Name of the Project</label>
                <input type="text" id="projectName" name="projectName" required>

                <label for="category">Category</label>
                <select id="category" name="category" required>
                    <option value="Environment Design">Environment Design</option>
                    <option value="Visual Design">Visual Design</option>
                    <option value="Industrial Design">Industrial Design</option>
                    <option value="Trend Design">Trend Design</option>
                    <option value="Design Theory">Design Theory</option>
                    <option value="Real Estate Design">Real Estate Design</option>
                    <option value="Restaurant/Hotel/Bar">Restaurant/Hotel/Bar</option>
                </select>

                <input type="submit" value="新增提名">
            </form>
        </div>

        <div id="EditProject" class="tabcontent">
            <h3>編輯專案資訊</h3>
            <form action="https://kyoto-global-design-awards.com/api/edit-project" method="post">
                <label for="projectNameEdit">Name of the Project</label>
                <input type="text" id="projectNameEdit" name="projectName" required>

                <label for="categoryEdit">Category</label>
                <select id="categoryEdit" name="category" required>
                    <option value="Environment Design">Environment Design</option>
                    <option value="Visual Design">Visual Design</option>
                    <option value="Industrial Design">Industrial Design</option>
                    <option value="Trend Design">Trend Design</option>
                    <option value="Design Theory">Design Theory</option>
                    <option value="Real Estate Design">Real Estate Design</option>
                    <option value="Restaurant/Hotel/Bar">Restaurant/Hotel/Bar</option>
                </select>

                <label for="projectUrl">Project's website / URL</label>
                <input type="url" id="projectUrl" name="projectUrl">

                <label for="authorDesigner">Author / Designers / Studio</label>
                <input type="text" id="authorDesigner" name="authorDesigner" required>

                <label for="authorWebsiteEdit">Author / Designers / Studio's Website</label>
                <input type="url" id="authorWebsiteEdit" name="authorWebsite">

                <label for="photoCredit">Photo Credit/ Photographer</label>
                <input type="text" id="photoCredit" name="photoCredit">

                <label for="projectYear">Year of the Project</label>
                <input type="number" id="projectYear" name="projectYear" min="1900" max="2099" step="1" required>

                <label for="material">Material</label>
                <input type="text" id="material" name="material">

                <label for="projectCountry">Country of the Project (optional)</label>
                <input type="text" id="projectCountry" name="projectCountry">

                <label for="publisher">Publisher</label>
                <input type="text" id="publisher" name="publisher">

                <label for="client">Client / Manufacturer / Brand</label>
                <input type="text" id="client" name="client" placeholder="If you don't have this information or prefer not to disclose it, please enter '-'.">

                <label for="projectDescription">Short Description of the Project (Maximum 300 Words)</label>
                <textarea id="projectDescription" name="projectDescription" rows="4" maxlength="300" required></textarea>

                <label for="studioDescription">Short Description of Yourself / Studio (Maximum 300 Words)</label>
                <textarea id="studioDescription" name="studioDescription" rows="4" maxlength="300" required></textarea>

                <label for="projectImage">Project Image Upload</label>
                <input type="file" id="projectImage" name="projectImage" accept="image/*">

                <label for="awardsHistory">Awards History (Optional)</label>
                <textarea id="awardsHistory" name="awardsHistory" rows="4"></textarea>

                <label for="additionalInfo">Additional Information (Optional)</label>
                <textarea id="additionalInfo" name="additionalInfo" rows="4"></textarea>

                <label for="companyStudioEdit">Company or Studio</label>
                <input type="text" id="companyStudioEdit" name="companyStudio" required>

                <input type="submit" value="更新專案資訊">
            </form>
        </div>

        <div id="EditCompanyPerson" class="tabcontent">
            <h3>編輯公司、人</h3>
            <form action="https://kyoto-global-design-awards.com/api/edit-company-person" method="post">
                <label for="authorWebsiteEdit2">Author / Designers / Studio's Website</label>
                <input type="url" id="authorWebsiteEdit2" name="authorWebsite">

                <label for="personalCv">Personal / Studio CV</label>
                <textarea id="personalCv" name="personalCv" rows="4"></textarea>

                <label for="firstName">First Name</label>
                <input type="text" id="firstName" name="firstName" required>

                <label for="lastName">Last Name</label>
                <input type="text" id="lastName" name="lastName" required>

                <label for="title">Title</label>
                <input type="text" id="title" name="title">

                <label for="companyStudioEdit2">Company or Studio</label>
                <input type="text" id="companyStudioEdit2" name="companyStudio" required>

                <label for="contactEmailEdit">Contact Email</label>
                <input type="email" id="contactEmailEdit" name="contactEmail" required>

                <label for="contactPhone">Contact Phone Number</label>
                <input type="tel" id="contactPhone" name="contactPhone">

                <label for="country">Country</label>
                <input type="text" id="country" name="country" required>

                <label for="streetAddress">Street Address</label>
                <input type="text" id="streetAddress" name="streetAddress" required>

                <label for="streetAddress2">Street Address Line 2</label>
                <input type="text" id="streetAddress2" name="streetAddress2">

                <label for="city">City</label>
                <input type="text" id="city" name="city" required>

                <label for="stateProvince">State / Province</label>
                <input type="text" id="stateProvince" name="stateProvince">

                <label for="postalCode">Postal / Zip Code</label>
                <input type="text" id="postalCode" name="postalCode" required>

                <label for="country2">Country 2</label>
                <input type="text" id="country2" name="country2">

                <input type="submit" value="更新公司、人資訊">
            </form>
        </div>

        <div id="EditAwardPayment" class="tabcontent">
            <h3>編輯獎項報名Payment info</h3>
            <form action="https://kyoto-global-design-awards.com/api/edit-award-payment" method="post">
                <label for="projectNamePayment">Name of the Project</label>
                <input type="text" id="projectNamePayment" name="projectName" required>

                <label for="paymentProducts">Payment-Products</label>
                <input type="text" id="paymentProducts" name="paymentProducts" required>

                <label for="paymentPayerInfo">Payment-Payer Info</label>
                <input type="text" id="paymentPayerInfo" name="paymentPayerInfo" required>

                <label for="invoiceId">Invoice ID</label>
                <input type="text" id="invoiceId" name="invoiceId" required>

                <label for="submissionId">Submission ID</label>
                <input type="text" id="submissionId" name="submissionId" required>

                <input type="submit" value="更新獎項報名Payment info">
            </form>
        </div>

        <div id="SearchNominations" class="tabcontent">
            <h3>搜尋提名</h3>
            <div class="search-container">
                <form action="https://kyoto-global-design-awards.com/api/search-nominations" method="get">
                    <input type="text" placeholder="搜尋..." name="search">
                    <button type="submit">搜尋</button>
                </form>
            </div>
            <table id="nominationsTable">
                <tr>
                    <th>Name</th>
                    <th>Project Name</th>
                    <th>Company or Studio</th>
                    <th>Actions</th>
                </tr>
                <!-- Sample data, replace with actual data from backend -->
                <tr>
                    <td>John Doe</td>
                    <td>Eco-friendly Package Design</td>
                    <td>Green Designs Co.</td>
                    <td>
                        <button onclick="editNomination(1)">編輯</button>
                        <button onclick="deleteNomination(1)">刪除</button>
                    </td>
                </tr>
            </table>
            <button onclick="exportNominations()">匯出提名</button>
        </div>

    </div>

    <script>
        function openTab(evt, tabName) {
            var i, tabcontent, tablinks;
            tabcontent = document.getElementsByClassName("tabcontent");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
            }
            tablinks = document.getElementsByClassName("tablinks");
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].className = tablinks[i].className.replace(" active", "");
            }
            document.getElementById(tabName).style.display = "block";
            evt.currentTarget.className += " active";
        }

        // Get the element with id="defaultOpen" and click on it
        document.getElementById("defaultOpen").click();

        function editNomination(id) {
            console.log("Editing nomination with ID: " + id);
            window.location.href = `https://kyoto-global-design-awards.com/admin/edit/${id}`;
        }

        function deleteNomination(id) {
            if (confirm("Are you sure you want to delete this nomination?")) {
                console.log("Deleting nomination with ID: " + id);
                fetch(`https://kyoto-global-design-awards.com/api/delete-nomination/${id}`, {
                    method: 'DELETE',
                })
                .then(response => response.json())
                .then(data => {
                    console.log('Success:', data);
                    // Refresh the nominations list or remove the row from the table
                })
                .catch((error) => {
                    console.error('Error:', error);
                });
            }
        }

        function exportNominations() {
            console.log("Exporting nominations");
            window.location.href = 'https://kyoto-global-design-awards.com/api/export-nominations';
        }

        // Function to synchronize common fields across forms
        function syncFields() {
            const commonFields = [
                { id: 'companyStudio', relatedIds: ['companyStudioEdit', 'companyStudioEdit2'] },
                { id: 'contactEmail', relatedIds: ['contactEmailEdit'] },
                { id: 'authorWebsiteEdit', relatedIds: ['authorWebsiteEdit2'] },
                { id: 'projectName', relatedIds: ['projectNameEdit', 'projectNamePayment'] },
                { id: 'category', relatedIds: ['categoryEdit'] }
            ];

            commonFields.forEach(field => {
                const mainField = document.getElementById(field.id);
                field.relatedIds.forEach(relatedId => {
                    const relatedField = document.getElementById(relatedId);
                    if (mainField && relatedField) {
                        mainField.addEventListener('input', () => {
                            relatedField.value = mainField.value;
                        });
                        relatedField.addEventListener('input', () => {
                            mainField.value = relatedField.value;
                        });
                    }
                });
            });
        }

        // Call the syncFields function when the page loads
        window.onload = syncFields;
    </script>
</body>
</html>